<section id="projects" class="py-5" data-aos="fade-up">
  <div class="container">
    <div class="d-flex flex-wrap justify-content-between align-items-center mb-3">
      <h2 class="mb-2">Projects</h2>
      <div class="btn-group">
        <button class="btn btn-sm btn-outline-secondary" [class.active]="filter==='all'" (click)="setFilter('all')">All</button>
        <button class="btn btn-sm btn-outline-secondary" [class.active]="filter==='work'" (click)="setFilter('work')">Work</button>
        <button class="btn btn-sm btn-outline-secondary" [class.active]="filter==='personal'" (click)="setFilter('personal')">Personal</button>
        <button class="btn btn-sm btn-outline-secondary" [class.active]="filter==='in-progress'" (click)="setFilter('in-progress')">In&nbsp;Progress</button>
      </div>
    </div>

    <div class="row g-4">
      <div class="col-md-6 col-lg-4" *ngFor="let p of projects" [hidden]="!matchesFilter(p)">
        <div class="card h-100 project-card">
          <div class="card-body d-flex flex-column">
            <div class="d-flex justify-content-between align-items-start">
              <h5 class="card-title mb-1">{{ p.title }}</h5>
              <ng-container>
                <span class="badge text-bg-light" *ngIf="p.type==='work'">Work</span>
                <span class="badge text-bg-secondary" *ngIf="p.type==='personal'">Personal</span>
                <span class="badge text-bg-warning" *ngIf="p.type==='in-progress'">In Progress</span>
              </ng-container>
            </div>

            <p class="card-text small text-muted mb-2">{{ p.tech }}</p>
            <p class="card-text">{{ p.desc }}</p>

            <div class="small text-muted" *ngIf="p.company || p.period">
              <i class="fas fa-building me-1" *ngIf="p.company"></i>{{ p.company || '' }}
              <span *ngIf="p.company && p.period"> â€¢ </span>
              <i class="far fa-calendar-alt ms-1 me-1" *ngIf="p.period"></i>{{ p.period || '' }}
            </div>

            <div class="mt-2 small text-muted" *ngIf="p.note">
              <i class="fas fa-lock me-1"></i>{{ p.note }}
            </div>

            <div class="mt-auto pt-2 d-flex justify-content-center gap-2">
              <a *ngIf="p.frontend" class="btn btn-sm btn-outline-primary" [href]="p.frontend" target="_blank" rel="noopener">Frontend</a>
              <a *ngIf="p.backend" class="btn btn-sm btn-outline-secondary" [href]="p.backend" target="_blank" rel="noopener">Backend</a>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</section>
